# üöÄ TSX Dev Mode Setup - –û—Ç—á–µ—Ç

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ 8 subgraph'–æ–≤:
- ‚úÖ **ai-subgraph** - AI –∏ GQLPT —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ **billing-subgraph** - –ë–∏–ª–ª–∏–Ω–≥
- ‚úÖ **bookings-subgraph** - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
- ‚úÖ **identity-subgraph** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ **inventory-subgraph** - –ò–Ω–≤–µ–Ω—Ç–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **legal-subgraph** - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **listings-subgraph** - –û–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ **ops-subgraph** - –û–ø–µ—Ä–∞—Ü–∏–∏

## üîß –ù–æ–≤—ã–µ dev —Å–∫—Ä–∏–ø—Ç—ã

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```json
{
  "scripts": {
    "dev": "pnpm build && node --watch dist/apps/ai-subgraph/src/server.js"
  }
}
```

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```json
{
  "scripts": {
    "dev": "tsx --watch src/server.ts",
    "dev:build": "pnpm build && node --watch dist/apps/ai-subgraph/src/server.js",
    "start": "node dist/apps/ai-subgraph/src/server.js"
  },
  "devDependencies": {
    "tsx": "^4.20.5"
  }
}
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ tsx dev —Ä–µ–∂–∏–º–∞

### 1. **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫**
- ‚ùå **–ë—ã–ª–æ**: `pnpm build` ‚Üí `node dist/...` (–º–µ–¥–ª–µ–Ω–Ω–æ)
- ‚úÖ **–°—Ç–∞–ª–æ**: `tsx src/server.ts` (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)

### 2. **Hot Reload**
- ‚ùå **–ë—ã–ª–æ**: –†—É—á–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **–°—Ç–∞–ª–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### 3. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ TypeScript**
- ‚ùå **–ë—ã–ª–æ**: –ö–æ–º–ø–∏–ª—è—Ü–∏—è ‚Üí JavaScript ‚Üí –∑–∞–ø—É—Å–∫
- ‚úÖ **–°—Ç–∞–ª–æ**: TypeScript ‚Üí –∑–∞–ø—É—Å–∫ –Ω–∞–ø—Ä—è–º—É—é

### 4. **–õ–æ–≥–∏ –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É**
- ‚ùå **–ë—ã–ª–æ**: –ü—Ä–æ–±–ª–µ–º—ã —Å pino-pretty –≤ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ **–°—Ç–∞–ª–æ**: Pino –ª–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### üöÄ Development (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd ai-subgraph
pnpm dev
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ tsx —Å hot reload –∏ –≤–∏–¥–∏–º—ã–º–∏ –ª–æ–≥–∞–º–∏

### üîß Alternative Development
```bash
cd ai-subgraph  
pnpm dev:build
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)

### üè≠ Production
```bash
cd ai-subgraph
pnpm build
pnpm start
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Production —Å–±–æ—Ä–∫–∞

## üéâ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:

### 1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ª—é–±–æ–π subgraph —Å –ª–æ–≥–∞–º–∏:**
```bash
cd /Users/pavellobachev/dev/posutka-monorepo/backend/ai-subgraph
pnpm dev
```

### 2. **–£–≤–∏–¥–µ—Ç—å pino –ª–æ–≥–∏ —Å—Ä–∞–∑—É:**
```
[2025-09-26 14:30:15.123 +0300] INFO (ai-subgraph): [ai-subgraph] AI Subgraph schema loaded successfully
[2025-09-26 14:30:15.124 +0300] INFO (ai-subgraph): [ai-subgraph] AI Subgraph server started on port 4008
```

### 3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:**
- –ò–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª ‚Üí —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª—é–±–æ–π subgraph:

```bash
# AI Subgraph (–ø–æ—Ä—Ç 4008)
cd ai-subgraph && pnpm dev

# Inventory Subgraph (–ø–æ—Ä—Ç 4001)  
cd inventory-subgraph && pnpm dev

# Identity Subgraph (–ø–æ—Ä—Ç 4005)
cd identity-subgraph && pnpm dev
```

**–¢–µ–ø–µ—Ä—å –ª–æ–≥–∏ pino –±—É–¥—É—Ç –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É!** üéØ

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
|---------|----|----|
| **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞** | ~5-10 —Å–µ–∫ | ~1-2 —Å–µ–∫ |
| **Hot reload** | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |
| **–õ–æ–≥–∏ –≤–∏–¥–Ω—ã** | ‚ùå –ü—Ä–æ–±–ª–µ–º—ã | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **TypeScript** | –ö–æ–º–ø–∏–ª—è—Ü–∏—è | –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ |
| **Dev –æ–ø—ã—Ç** | –ú–µ–¥–ª–µ–Ω–Ω—ã–π | –ë—ã—Å—Ç—Ä—ã–π |

**–í—Å–µ subgraph'—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –≤–∏–¥–∏–º—ã–º–∏ –ª–æ–≥–∞–º–∏!** üöÄ
