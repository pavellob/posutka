# AI Subgraph - Искусственный интеллект и автоматизация
# Отвечает за обработку естественного языка, автоматизацию задач и AI-команды

# Общие типы
scalar UUID
scalar DateTime
scalar JSON

"""
Организация (компания, отель, хостел и т.д.).
Ссылка на основную сущность из identity-subgraph.
"""
type Organization {
  """Уникальный идентификатор организации"""
  id: UUID!
}

"""
Результат выполнения AI-команды.
Содержит информацию об успешности выполнения и затронутых сущностях.
"""
type AICommandResult {
  """Успешно ли выполнена команда"""
  ok: Boolean!
  """Сообщение о результате выполнения (опционально)"""
  message: String
  """Список ID сущностей, которые были затронуты командой"""
  affectedIds: [UUID!]!
  """Предварительный просмотр изменений в формате JSON (опционально)"""
  preview: JSON
}

"""
Запросы для работы с AI-функциональностью.
"""
type Query {
  """Пустой запрос (требуется для GraphQL схемы)"""
  _empty: Boolean
}

"""
Мутации для выполнения AI-команд.
"""
type Mutation {
  """Выполнить AI-команду на естественном языке"""
  aiCommand(
    """ID организации, для которой выполняется команда"""
    orgId: UUID!
    """Текст команды на естественном языке"""
    command: String!
    """Дополнительный контекст в формате JSON (опционально)"""
    context: JSON
  ): AICommandResult!
}
