# AI Subgraph —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π GQLPT

AI Subgraph –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Posutka —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π [GQLPT](https://github.com/rocket-connect/gqlpt) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ GraphQL –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ —Å –ø–æ–º–æ—â—å—é AI.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **AI-–∫–æ–º–∞–Ω–¥—ã**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è GraphQL –∑–∞–ø—Ä–æ—Å–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ GraphQL –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ AI-–∞–¥–∞–ø—Ç–µ—Ä–æ–≤**: OpenAI GPT –∏ Anthropic Claude
- **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ GraphQL —Å—Ö–µ–º—ã

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pnpm install
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# OpenAI
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic
ANTHROPIC_API_KEY=your_anthropic_api_key_here
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
pnpm dev
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:4008/graphql`

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è GraphQL –∑–∞–ø—Ä–æ—Å–∞

```graphql
mutation GenerateQuery {
  generateGraphQLQuery(
    orgId: "123e4567-e89b-12d3-a456-426614174000"
    description: "–ù–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏–º–µ–Ω–µ–º –ò–≤–∞–Ω"
    adapterConfig: {
      type: "openai"
      apiKey: "your-api-key"
      model: "gpt-4"
    }
  ) {
    query
    variables
    description
    success
    error
  }
}
```

### 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

```graphql
mutation ExecuteQuery {
  executeGeneratedQuery(
    orgId: "123e4567-e89b-12d3-a456-426614174000"
    query: "query($name: String!) { users(where: { name: { equals: $name } }) { id name } }"
    variables: { "name": "–ò–≤–∞–Ω" }
  )
}
```

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ AI-–∫–æ–º–∞–Ω–¥—ã

```graphql
mutation AICommand {
  aiCommand(
    orgId: "123e4567-e89b-12d3-a456-426614174000"
    command: "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ò–≤–∞–Ω"
    context: {
      "userId": "user-123"
      "checkIn": "2024-01-15"
      "checkOut": "2024-01-20"
    }
  ) {
    ok
    message
    affectedIds
    preview
  }
}
```

## üîå –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ AI-–∞–¥–∞–ø—Ç–µ—Ä—ã

### OpenAI

```typescript
const adapterConfig = {
  type: 'openai',
  apiKey: 'your-openai-api-key',
  model: 'gpt-4' // –∏–ª–∏ 'gpt-3.5-turbo'
};
```

### Anthropic

```typescript
const adapterConfig = {
  type: 'anthropic',
  apiKey: 'your-anthropic-api-key',
  model: 'claude-3-sonnet-20240229' // –∏–ª–∏ 'claude-3-haiku-20240307'
};
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
AI Subgraph
‚îú‚îÄ‚îÄ Schema (GraphQL)
‚îÇ   ‚îú‚îÄ‚îÄ AICommandResult
‚îÇ   ‚îú‚îÄ‚îÄ GraphQLQueryResult
‚îÇ   ‚îî‚îÄ‚îÄ AIAdapterConfig
‚îú‚îÄ‚îÄ Resolvers
‚îÇ   ‚îú‚îÄ‚îÄ aiCommand
‚îÇ   ‚îú‚îÄ‚îÄ generateGraphQLQuery
‚îÇ   ‚îî‚îÄ‚îÄ executeGeneratedQuery
‚îú‚îÄ‚îÄ Services
‚îÇ   ‚îú‚îÄ‚îÄ GQLPTService (—Ä–∞–±–æ—Ç–∞ —Å GQLPT)
‚îÇ   ‚îî‚îÄ‚îÄ AIOrchestratorService (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è AI –∫–æ–º–∞–Ω–¥)
‚îî‚îÄ‚îÄ Context
    ‚îî‚îÄ‚îÄ createContext (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pnpm test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
pnpm test --watch
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `src/examples/gqlpt-usage.example.ts` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## üîç –û—Ç–ª–∞–¥–∫–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ AI-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤–∫–ª—é—á–∏—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```typescript
// –í GQLPTService
console.log('–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –¥–ª—è:', description);
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
```

## üö® –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –¢—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ —Å—Ö–µ–º—ã, –Ω–æ –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π AI-–º–æ–¥–µ–ª–∏

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
