# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü—Ä–∏–≤—è–∑–∫–∞ —É–±–æ—Ä—â–∏–∫–æ–≤ –∫ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º

## ‚ö° TL;DR

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å —É–±–æ—Ä—â–∏–∫–æ–≤ –∫ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º —á–µ—Ä–µ–∑ UI, –∏ –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –æ –Ω–æ–≤—ã—Ö —É–±–æ—Ä–∫–∞—Ö!

---

## üìã –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä

```
http://localhost:3000/inventory/units
```

### 2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–≤–∞—Ä—Ç–∏—Ä—É –∏ –Ω–∞–∂–º–∏—Ç–µ "üë• –£–±–æ—Ä—â–∏–∫–∏"

### 3. –í –¥–∏–∞–ª–æ–≥–µ –Ω–∞–∂–º–∏—Ç–µ "‚úÖ –ü—Ä–∏–≤—è–∑–∞—Ç—å" —Ä—è–¥–æ–º —Å –Ω—É–∂–Ω—ã–º–∏ —É–±–æ—Ä—â–∏–∫–∞–º–∏

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É–±–æ—Ä–∫–∏ –≤ —ç—Ç–æ–π –∫–≤–∞—Ä—Ç–∏—Ä–µ –≤—Å–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ —É–±–æ—Ä—â–∏–∫–∏ –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

---

## üîî –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–±–æ—Ä–∫–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —É–±–æ—Ä—â–∏–∫–æ–º

```graphql
mutation {
  scheduleCleaning(input: {
    unitId: "abc123"
    cleanerId: "def456"  # –£–∫–∞–∑–∞–Ω —É–±–æ—Ä—â–∏–∫
    scheduledFor: "2025-10-25T10:00:00Z"
  }) {
    id
  }
}
```

‚û°Ô∏è **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —É—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–æ–º—É —É–±–æ—Ä—â–∏–∫—É**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–±–æ—Ä–∫–∞ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —É–±–æ—Ä—â–∏–∫–∞

```graphql
mutation {
  scheduleCleaning(input: {
    unitId: "abc123"
    # cleanerId –ù–ï —É–∫–∞–∑–∞–Ω!
    scheduledFor: "2025-10-25T10:00:00Z"
  }) {
    id
  }
}
```

‚û°Ô∏è **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É—Ö–æ–¥—è—Ç –í–°–ï–ú –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º —É–±–æ—Ä—â–∏–∫–∞–º**
‚û°Ô∏è **–õ—é–±–æ–π –º–æ–∂–µ—Ç –≤–∑—è—Ç—å —É–±–æ—Ä–∫—É —á–µ—Ä–µ–∑ Telegram**

---

## üì± –î–ª—è —É–±–æ—Ä—â–∏–∫–∞ (Telegram)

1. –ü–æ–ª—É—á–∞–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è —É–±–æ—Ä–∫–∞ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ X"
2. –ù–∞–∂–∏–º–∞–µ—Ç–µ –∫–Ω–æ–ø–∫—É "–í–∑—è—Ç—å —É–±–æ—Ä–∫—É"
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Telegram Mini App
4. –£–±–æ—Ä–∫–∞ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—Å!

---

## üõ†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
cd packages/datalayer-prisma
pnpm prisma migrate dev --name add_unit_preferred_cleaner
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

```bash
pnpm dev:graph
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ backoffice:

```bash
cd frontend/backoffice
pnpm dev
```

### 3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:

```
http://localhost:3000/inventory/units
```

---

## üìÇ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### Backend:
- ‚úÖ `unitPreferredCleaners` query
- ‚úÖ `addPreferredCleaner` mutation
- ‚úÖ `removePreferredCleaner` mutation
- ‚úÖ `assignCleaningToMe` mutation (–¥–ª—è —É–±–æ—Ä—â–∏–∫–æ–≤)

### Frontend:
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä: `/inventory/units`
- ‚úÖ –î–µ—Ç–∞–ª–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã: `/inventory/units/[id]`
- ‚úÖ –î–∏–∞–ª–æ–≥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–±–æ—Ä—â–∏–∫–∞–º–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `UnitPreferredCleaner`

---

## üéØ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// 1. –ü—Ä–∏–≤—è–∑–∞—Ç—å —É–±–æ—Ä—â–∏–∫–∞ –∫ –∫–≤–∞—Ä—Ç–∏—Ä–µ
mutation {
  addPreferredCleaner(
    unitId: "unit-123"
    cleanerId: "cleaner-456"
  ) { id }
}

// 2. –°–æ–∑–¥–∞—Ç—å —É–±–æ—Ä–∫—É –±–µ–∑ cleanerId
mutation {
  scheduleCleaning(input: {
    unitId: "unit-123"
    scheduledFor: "2025-10-25T10:00:00Z"
  }) { id }
}

// ‚û°Ô∏è –í—Å–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ —É–±–æ—Ä—â–∏–∫–∏ –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ!

// 3. –£–±–æ—Ä—â–∏–∫ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Å–µ–±—è (–∏–∑ Telegram)
mutation {
  assignCleaningToMe(cleaningId: "cleaning-789") {
    id
    cleaner {
      firstName
      lastName
    }
  }
}
```

---

## üí° –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. `UNIT_CLEANERS_MANAGEMENT.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

**–ì–æ—Ç–æ–≤–æ!** üéâ


